<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
<head>
    <div>
        <header>
            <div class="p-3 mb-4 border-bottom d-flex justify-content-between">
                <div class="ms-5">
                    <a href="/" class="text-dark text-decoration-none ">
                        <span class="fs-4">clothe$hop</span>
                    </a>
                </div>
                <div class="me-5 d-flex">
                    <div sec:authorize="isAuthenticated()" th:object="${user}">
                        <a class="d-block link-dark text-decoration-none dropdown-toggle" id="dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <img th:src="${user.avatarUrl}" alt="avatar" width="40" height="40" class="rounded-circle">
                        </a>
                        <ul class="dropdown-menu text-small" aria-labelledby="dropdown">
                            <li><a class="dropdown-item" th:href="@{'/user/' + ${username} + '/'}">Мой профиль</a></li>
                            <li sec:authorize="hasAuthority('Admin')"><a class="dropdown-item" href="/users">Пользователи</a></li>
                            <li sec:authorize="hasAuthority('User')"><a class="dropdown-item" href="/my-orders">Мои заказы</a></li>
                            <li sec:authorize="hasAuthority('Admin')"><a class="dropdown-item" href="/orders">Заказы</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a th:href="@{/logout}" class="dropdown-item">Выйти</a></li>
                        </ul>
                    </div>
                    <div sec:authorize="!isAuthenticated()">
                        <a href="/user/sign-up" class="btn btn-outline-primary" style="border-radius: 6px"
                           type="sign_up_button">Регистрация</a>
                        <a href="/user/sign-in" class="btn btn-primary ms-1" style="border-radius: 6px"
                           type="sign_in_button">Вход</a>
                    </div>
                </div>
            </div>

        </header>
    </div>
</head>
</html>